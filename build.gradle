buildscript {
    repositories {
        mavenCentral()
        mavenLocal()
        maven {
            name = "forge"
            url = "http://files.minecraftforge.net/maven"
        }
        maven {
            name = "sonatype"
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:1.1-SNAPSHOT'
    }
}

subprojects {
    apply plugin: 'forge'
    apply plugin: 'maven'
    minecraft {
        version = "1.7.2-10.12.0.1024"
    }
    version = "2.3.0"
    archivesBaseName = "NanotechMod" + "-" + project.projectDir.name
    group= "fr.mcnanotech.kevin_68"
    
    dependencies {
        def lib = new File('libs')
        if(!lib.exists()) {
            lib.mkdirs
        }
    
        def f = new File('libs/FFMT-libs-59.jar')
        if (!f.exists()) {
            new URL("http://ci.mcnanotech.fr/job/FFMT-libs/59/artifact/build/libs/FFMT-libs-deobf-dev-1.3.0.59-mc1.7.2.jar").withInputStream{ i -> f.withOutputStream{ it << i }}
        }
       compile files("libs/FFMT-libs-59.jar")
    }
}
