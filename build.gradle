def libsDir = new File('libs')
if (!libsDir.exists()) {
    libsDir.mkdirs()
}

def ffmtLib = new File('libs/FFMT-libs.jar')
if (!ffmtLib.exists()) {
    new URL('http://ci.mcnanotech.fr/job/FFMT-libs/56/artifact/build/libs/FFMT-libs-deobf-dev-1.3.0.56-mc1.7.2.jar').withInputStream{ i -> ffmtLib.withOutputStream{ it << i }}
}


buildscript {
    repositories {
        mavenCentral()
        maven {
            name = "forge"
            url = "http://files.minecraftforge.net/maven"
        }
        maven {
            name = "sonatype"
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:1.1-SNAPSHOT'
        compile files("libs/FFMT-libs.jar")
    }
}

allprojects {
    apply plugin: 'forge'
    minecraft {
        version = "1.7.2-10.12.0.1024"
    }
    version = "2.3.0"
    archivesBaseName = "NanotechMod" + project.projectDir.name
}
